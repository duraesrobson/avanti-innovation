<page xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="urn:magento:framework:View/Layout/etc/page_configuration.xsd">
    <body>

        <!-- referência ao container do header panel -->
        <referenceContainer name="header.panel">

            <!-- cria um container dentro do header.panel para a mensagem promocional -->           
            <container name="promo.header.wrapper" htmlClass="promo-wrapper" htmlTag="div">

            <!-- adiciona o bloco de template da promoção, usando o arquivo promo.phtml -->
            <!-- o atributo before="-" força a renderização no início do container -->
                <block class="Magento\Framework\View\Element\Template" name="promo.header.panel" template="Magento_Theme::html/promo.phtml" before="-" />
            </container>
        </referenceContainer>
        
        <!-- move o bloco de links do header para dentro do header-wrapper, antes do minicart -->
        <move element="header.links" destination="header-wrapper" before="minicart"/>

        <!-- move o bloco do minicart para dentro do header-wrapper, após todos os outros elementos -->
        <move element="minicart" destination="header-wrapper" after="-"/>

        <!-- cria um bloco phtml dentro de header.links para exibir a string "ou" entre os links quando o usuário não está logado -->
        <referenceBlock name="header.links">
                <block class="Magento\Framework\View\Element\Template" name="header.links.or" template="Magento_Theme::html/or.phtml" after="authorization-link"/>
        </referenceBlock>

        <!-- configuração do logo -->
        <referenceBlock name="logo">
            <arguments>
                <argument name="logo_file" xsi:type="string">images/avanti-logo.svg</argument>
                <argument name="logo_width" xsi:type="number">152.58</argument>
                <argument name="logo_height" xsi:type="number">27.08</argument>
                <argument name="logo_alt" xsi:type="string">Avanti Logo</argument>
            </arguments>
        </referenceBlock>

        <!-- cria um container dentro do main content para adicionar a newsletter  -->
        <referenceContainer name="main.content">
            <container name="footer.newsletter" 
               label="Footer Columns Wrapper" 
               htmlTag="div" 
               htmlClass="footer-columns-wrapper"/>
        </referenceContainer>

        <!-- move a newsletter para o container criado -->
        <move element="form.subscribe" destination="footer.newsletter" before="-"/>

        <!-- remove os links nativos do tema -->
        <referenceBlock name="footer_links" remove="true"/>
        <referenceBlock name="copyright" remove="true"/>

        <!-- configuração do footer -->
        <referenceContainer name="footer">
            <container name="footer.rows.wrapper" 
               label="Footer rows Wrapper" 
               htmlTag="div" 
               htmlClass="footer-rows-wrapper">
                
                <!-- adiciona bloco CMS (page builder / Magento Admin) -->
                <block class="Magento\Cms\Block\Block" name="footer_row_1">
                    <arguments>
                        <argument name="block_id" xsi:type="string">footer_row_1</argument>
                    </arguments>
                </block>

                <!-- bloco .phtml com as logos de formas de pagamento aceitas  -->
                <block class="Magento\Framework\View\Element\Template" name="flag.cards" template="Magento_Theme::html/flags-cards.phtml" />
            </container>
        </referenceContainer>

        <!-- cria os blocos após 1 parte do footer -->
        <referenceContainer name="before.body.end">

            <!-- cria e adiciona bloco de texto para editar no page builder -->
            <block class="Magento\Cms\Block\Block" name="text_stamps_partners">
                <arguments>
                    <argument name="block_id" xsi:type="string">text_stamps_partners</argument>
                </arguments>
            </block>

            <!-- cria e adiciona o arquivo .phtml com a logo dos parceiros do vendor -->
            <block class="Magento\Framework\View\Element\Template" name="stamps-partners" 
           template="Magento_Theme::html/stamps-partners-wrapper.phtml" 
           after="-" />
        </referenceContainer>
    </body>
</page>
